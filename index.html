<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
	<title>获取QQ头像和昵称</title>
	<link href="https://cdn.bootcss.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
	<div class="container-fluid">
		<div style="height: 60px;"></div>
		<div class="row">
			<div class="col-lg-6">
			    <div class="input-group">
			      <input type="text" class="form-control" placeholder="请输入QQ号">
			      <span class="input-group-btn">
			        <button class="btn btn-default" type="button">Go!</button>
			      </span>
			    </div><!-- /input-group -->
			 </div><!-- /.col-lg-6 -->
		</div>
		<div style="height: 30px;"></div>
		<div class="row">
			<div class="col-xs-1"></div>
			<img class="col-xs-10 avatarImage" width="250" src="https://ss0.bdstatic.com/94oJfD_bAAcT8t7mm9GUKT-xh_/timg?image&quality=100&size=b4000_4000&sec=1527677524&di=1e6823592378eec4ad75973703471bb2&src=http://img.zcool.cn/community/01c52955531ee90000009c504451a0.jpg" alt="">
			<div class="col-xs-1"></div>
		</div>
	</div>


    <script src="https://cdn.bootcss.com/jquery/2.0.0/jquery.js"></script>
	<script>
		$('.btn-default').click(function(){
			var qqCode = $('.form-control').val();
			console.log(qqCode);
			if(qqCode){
				$('.avatarImage').attr('src','http://q.qlogo.cn/headimg_dl?dst_uin='+qqCode+'&spec=640&img_type=jpg')
			}else{
				return
			}
			var params = {
				uins: qqCode,
				get_nick: 1,
				_: 1441677004202
			}
			$.ajax({
				url: 'http://r.pengyou.com/fcg-bin/cgi_get_portrait.fcg',
				type: 'get',
				dataType: 'jsonp',
				data: params,
				callback: '__jq1',
				jsonpCallback:'portraitCallBack',
			})
			function portraitCallBack(data){
				console.log(data[6]);
			}
		})
	</script>
</body>
</html>